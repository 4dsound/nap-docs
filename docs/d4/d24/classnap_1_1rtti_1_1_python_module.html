<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NAP: PythonModule Class Reference</title>
<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Nunito+Sans" rel="stylesheet">
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript">
  function inlineSVGfromIFrame () {
    console.log("blaaat")
    var alreadyImported = Boolean(document.querySelectorAll('.dyncontent svg').length)
    if (alreadyImported) return
    var allIFrames = document.querySelectorAll('.dyncontent iframe')
    var allContentBoxes = document.querySelectorAll('.dyncontent .center')
    allIFrames.forEach(function(iFrame, index) {
      var svgElem = iFrame.contentWindow.document.documentElement.cloneNode(true)
      allContentBoxes[index].appendChild(svgElem)
      iFrame.style.display = 'none'
    })
  }
  window.addEventListener("load", inlineSVGfromIFrame, false)
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="https://nap.tech"><img alt="Logo" src="../../nap_tech_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;"><a href="http://www.napframework.com">
   <div id="projectname">NAP
   </div>
  </a>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d3/d14/namespacenap.html">nap</a></li><li class="navelem"><a class="el" href="../../d5/d40/namespacenap_1_1rtti.html">rtti</a></li><li class="navelem"><a class="el" href="../../d4/d24/classnap_1_1rtti_1_1_python_module.html">PythonModule</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="../../d6/d26/classnap_1_1rtti_1_1_python_module-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PythonModule Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d0/da7/pythonmodule_8h_source.html">rtti/pythonmodule.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a6c2a985728629406c0be3e4c244ccf2d"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d24/classnap_1_1rtti_1_1_python_module.html#a6c2a985728629406c0be3e4c244ccf2d">RegistrationFunction</a> = std::function&lt; void(pybind11::module &amp;)&gt;</td></tr>
<tr class="separator:a6c2a985728629406c0be3e4c244ccf2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13ce6e1823011646c59ec2acf3b176b2"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d24/classnap_1_1rtti_1_1_python_module.html#a13ce6e1823011646c59ec2acf3b176b2">GetBaseTypesFunction</a> = std::function&lt; void(std::vector&lt; std::string &gt; &amp;)&gt;</td></tr>
<tr class="separator:a13ce6e1823011646c59ec2acf3b176b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad03a72adc867a4fac9519f1114753f72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d24/classnap_1_1rtti_1_1_python_module.html#ad03a72adc867a4fac9519f1114753f72">registerImportCallback</a> (<a class="el" href="../../d4/d24/classnap_1_1rtti_1_1_python_module.html#a6c2a985728629406c0be3e4c244ccf2d">RegistrationFunction</a> function)</td></tr>
<tr class="separator:ad03a72adc867a4fac9519f1114753f72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46963571b8502fd630d47c49a83141da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d24/classnap_1_1rtti_1_1_python_module.html#a46963571b8502fd630d47c49a83141da">registerTypeImportCallback</a> (const std::string &amp;name, <a class="el" href="../../d4/d24/classnap_1_1rtti_1_1_python_module.html#a13ce6e1823011646c59ec2acf3b176b2">GetBaseTypesFunction</a> getBaseTypesFunction, <a class="el" href="../../d4/d24/classnap_1_1rtti_1_1_python_module.html#a6c2a985728629406c0be3e4c244ccf2d">RegistrationFunction</a> registrationFunction)</td></tr>
<tr class="separator:a46963571b8502fd630d47c49a83141da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a829a82d13d8e80aa1b6ad82842ea9690"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d24/classnap_1_1rtti_1_1_python_module.html#a829a82d13d8e80aa1b6ad82842ea9690">invoke</a> (pybind11::module &amp;module)</td></tr>
<tr class="separator:a829a82d13d8e80aa1b6ad82842ea9690"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:af007762640efff0e2b53be64c05eda59"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/d24/classnap_1_1rtti_1_1_python_module.html">PythonModule</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d24/classnap_1_1rtti_1_1_python_module.html#af007762640efff0e2b53be64c05eda59">get</a> (const char *moduleName)</td></tr>
<tr class="separator:af007762640efff0e2b53be64c05eda59"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><p>Represents a single python module. In python, when loading a .py file, it will contain import statements. These import statements import 'modules'. These modules need to be registered in pybind11 to interface with C++.</p>
<p>Modules are registered through PYBIND11_EMBEDDED_MODULE. For example, the module named "nap" is defined like this: </p><pre class="fragment">PYBIND11_EMBEDDED_MODULE(nap, module)
{
        nap::rtti::PythonModule&amp; python_module = nap::rtti::PythonModule::get("nap");
        python_module.invoke(module);
}
</pre><p> Whenever an import statement is encountered in python, this code will be called. As you can see, the invoke function for the nap module is called here.</p>
<p>&lt;&lt;IMPORTANT&gt;&gt; We chose to have all our code inside a single "nap" module instead of multiple modules (for instance, per dll). The reason is that automatic upcasting (an important feature) can only be done for inheritance hierarchies within the same module. It is possible to support this across modules, but we went for the easier route, as it would mean even more complexity than we already have. That said, it is possible to create multiple modules manually if you find a good use for it. Currently, the RTTI macro's use "nap" as the hardcoded module name. This could be parametrized, or registration functions could be inserted into custom modules manually through registerImportCallback or registerTypeImportCallback. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a13ce6e1823011646c59ec2acf3b176b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13ce6e1823011646c59ec2acf3b176b2">&#9670;&nbsp;</a></span>GetBaseTypesFunction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d4/d24/classnap_1_1rtti_1_1_python_module.html#a13ce6e1823011646c59ec2acf3b176b2">GetBaseTypesFunction</a> =  std::function&lt;void(std::vector&lt;std::string&gt;&amp;)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6c2a985728629406c0be3e4c244ccf2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c2a985728629406c0be3e4c244ccf2d">&#9670;&nbsp;</a></span>RegistrationFunction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d4/d24/classnap_1_1rtti_1_1_python_module.html#a6c2a985728629406c0be3e4c244ccf2d">RegistrationFunction</a> =  std::function&lt;void(pybind11::module&amp;)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af007762640efff0e2b53be64c05eda59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af007762640efff0e2b53be64c05eda59">&#9670;&nbsp;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d4/d24/classnap_1_1rtti_1_1_python_module.html">PythonModule</a>&amp; get </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>moduleName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the global python module for the given module name. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">moduleName</td><td>name of the module to get </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the python module </dd></dl>

</div>
</div>
<a id="a829a82d13d8e80aa1b6ad82842ea9690"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a829a82d13d8e80aa1b6ad82842ea9690">&#9670;&nbsp;</a></span>invoke()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void invoke </td>
          <td>(</td>
          <td class="paramtype">pybind11::module &amp;&#160;</td>
          <td class="paramname"><em>module</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called when the module is imported. </p>

</div>
</div>
<a id="ad03a72adc867a4fac9519f1114753f72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad03a72adc867a4fac9519f1114753f72">&#9670;&nbsp;</a></span>registerImportCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void registerImportCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d24/classnap_1_1rtti_1_1_python_module.html#a6c2a985728629406c0be3e4c244ccf2d">RegistrationFunction</a>&#160;</td>
          <td class="paramname"><em>function</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register a function that is called when the module is imported. </p>

</div>
</div>
<a id="a46963571b8502fd630d47c49a83141da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46963571b8502fd630d47c49a83141da">&#9670;&nbsp;</a></span>registerTypeImportCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void registerTypeImportCallback </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d24/classnap_1_1rtti_1_1_python_module.html#a13ce6e1823011646c59ec2acf3b176b2">GetBaseTypesFunction</a>&#160;</td>
          <td class="paramname"><em>getBaseTypesFunction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d24/classnap_1_1rtti_1_1_python_module.html#a6c2a985728629406c0be3e4c244ccf2d">RegistrationFunction</a>&#160;</td>
          <td class="paramname"><em>registrationFunction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register class registration functions that are called when the module is imported. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The class name </td></tr>
    <tr><td class="paramname">getBaseTypesFunction</td><td>The function that returns the base classes for a class as a list of strings. </td></tr>
    <tr><td class="paramname">registrationFunction</td><td>The function responsible for registering the property or method into pybind11. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
<a href="http://www.doxygen.org/index.html"> Generated by doxygen</a></small></address>
</body>
</html>
